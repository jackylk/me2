# Me2 产品需求文档 (PRD)

**版本**: v2.0
**更新日期**: 2026-02-12
**产品负责人**: Jacky

---

## 1. 产品概述

### 1.1 产品定位

**Me2** 是一个**温暖陪伴式的 AI 聊天应用**，通过深度记忆能力让用户感觉被理解、被支持。

**一句话描述**: "像朋友一样懂你的 AI 伙伴"

### 1.2 核心价值主张

- **被理解**: AI 记得你说过的每件事，理解你的性格和习惯
- **有温度**: 不是冷冰冰的工具，而是温暖、支持性的陪伴
- **长期陪伴**: 随着时间推移，对你的理解越来越深入

### 1.3 产品形态

- **平台**: Web 应用（桌面 + 移动端响应式）
- **交互**: 对话式聊天界面
- **部署**: SaaS 服务（Railway 托管）

---

## 2. 目标用户

### 2.1 主要用户画像

**小李 - 独居打工人**
- 年龄: 25-35 岁
- 痛点: 工作压力大，朋友少，需要情感支持
- 需求: 有人倾听、理解、记得我说的事

**小张 - 自由职业者**
- 年龄: 28-40 岁
- 痛点: 独立工作，缺乏交流，需要思考伙伴
- 需求: 可以随时聊天，分享想法和进展

**小王 - 学生**
- 年龄: 18-25 岁
- 痛点: 学业压力，情感困扰，需要倾诉
- 需求: 有人陪伴、鼓励、不评判

### 2.2 用户规模

**MVP 阶段**: 100-500 个早期用户
**第一年**: 5,000-10,000 活跃用户

---

## 3. 核心功能

### 3.1 功能列表

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| **用户系统** | P0 | 🚧 待实现 | 注册、登录、JWT 认证 |
| **智能对话** | P0 | 🚧 待实现 | 基于记忆的温暖对话 |
| **记忆管理** | P0 | 🚧 待实现 | 自动存储、提取、召回（NeuroMemory）|
| **情感感知** | P1 | 🚧 待实现 | 识别情绪，给予支持 |
| **主动关心** | P1 | 📝 规划中 | 定时关心用户 |
| **个性化** | P2 | 📝 规划中 | 学习用户风格 |
| **多模态** | P3 | 📝 未来 | 图片记忆 |

### 3.2 功能详细说明

#### 3.2.1 用户系统（P0）

**功能描述**:
- 用户注册（邮箱 + 密码）
- 用户登录（JWT Token）
- 每个用户独立记忆空间

**验收标准**:
- [ ] 可以成功注册账号
- [ ] 可以登录并获得 token
- [ ] 不同用户的记忆完全隔离

#### 3.2.2 智能对话（P0）

**功能描述**:
- 用户发送消息
- AI 召回相关记忆（最近 7 天优先）
- AI 基于记忆生成温暖、懂 ta 的回复
- 自动保存对话并提取记忆

**验收标准**:
- [ ] AI 能记住用户之前说过的事
- [ ] AI 回复自然、有温度、不机械
- [ ] 记忆召回准确率 > 80%
- [ ] 响应时间 < 3 秒

**核心场景**:
```
用户: "我在 Google 工作，做后端开发"
AI: "了解！在 Google 做后端开发一定很有挑战性吧"

（几天后）
用户: "今天工作压力好大"
AI: "做后端开发确实辛苦，遇到什么难题了吗？要不要聊聊？"
     ↑ 记得用户的工作
```

#### 3.2.3 记忆管理（P0）

**技术实现**（委托给 NeuroMemory）:
- 对话自动存储
- 每 10 条消息提取一次记忆
- 三因子检索（相关性 × 时效性 × 重要性）
- 自动情感标注

**用户无感知**: 记忆管理在后台自动进行，用户只需聊天

#### 3.2.4 情感感知（P1）

**功能描述**:
- 识别用户情绪（开心、难过、压力、焦虑）
- 根据情绪调整回复风格
- 情绪低落时给予支持和鼓励

**验收标准**:
- [ ] 能识别明显的情绪表达
- [ ] 情绪低落时回复更温暖、支持性
- [ ] 情绪积极时分享用户的快乐

**核心场景**:
```
用户: "面试又失败了，感觉好挫败😞"
        ↓ 情感标注: valence=-0.7 (负面), label="挫败"
AI: "失败真的很难受，我能理解你的感受。但你愿意尝试就已经很勇敢了。要不要聊聊面试的情况？也许我能帮你分析一下。"
     ↑ 温暖、共情、支持
```

#### 3.2.5 主动关心（P1 - 未来）

**功能描述**:
- 用户长时间未登录 → "好久不见，最近怎么样？"
- 检测到情绪持续低落 → "你最近好像压力有点大，还好吗？"
- 重要日期提醒 → "记得你说过下周要面试，准备得怎么样了？"

**触发条件**:
- 7 天未登录
- 最近情绪 valence < -0.3 持续 3 天
- 用户之前提到的重要事件临近

---

## 4. 用户旅程

### 4.1 新用户首次体验

```
1. 访问 me2.app
   ↓
2. 看到简洁的介绍页
   "像朋友一样懂你的 AI 伙伴"
   [开始聊天]
   ↓
3. 注册/登录
   - 邮箱 + 密码
   - 或 Google OAuth（未来）
   ↓
4. 进入聊天界面
   AI: "你好！我是 Me2，很高兴认识你。你可以随便和我聊聊，
        我会记住我们的对话，慢慢了解你 😊"
   ↓
5. 用户开始聊天
   - 分享工作、生活、想法
   - AI 自然回应，记住关键信息
   ↓
6. 几天后再次登录
   AI: "欢迎回来！上次你说在准备项目汇报，进展怎么样了？"
        ↑ 体验到"被记住"的感觉 ✨
```

### 4.2 典型使用场景

**场景 1: 工作压力倾诉**
```
用户: "今天加班到 11 点，累死了"
AI: "辛苦了！记得你是做后端开发的，最近项目压力大吗？
     要注意休息哦，身体最重要"
```

**场景 2: 分享开心的事**
```
用户: "终于拿到 offer 了！🎉"
AI: "太棒了！恭喜你！记得你之前面试失败过几次，现在终于成功了，
     一定特别开心吧！新公司是做什么的？"
```

**场景 3: 寻求建议**
```
用户: "不知道该不该跳槽"
AI: "记得你说过现在公司工作压力大，但是团队氛围不错。
     你主要是因为压力想跳槽，还是想换个方向发展？
     可以跟我详细聊聊"
```

---

## 5. 技术要求

### 5.1 架构要求

- **前端**: Next.js 14, TypeScript, TailwindCSS
- **后端**: FastAPI, Python 3.10+
- **记忆**: NeuroMemory v2（嵌入式库）
- **数据库**: PostgreSQL 16 + pgvector
- **认证**: JWT
- **LLM**: DeepSeek v3
- **Embedding**: SiliconFlow BAAI/bge-m3

### 5.2 性能要求

| 指标 | 目标 | 说明 |
|------|------|------|
| 响应时间 | < 3s | 从发送消息到收到回复 |
| 记忆召回 | < 500ms | NeuroMemory 检索时间 |
| 并发用户 | 100+ | 同时在线用户 |
| 可用性 | 99% | 每月故障时间 < 7.2 小时 |

### 5.3 安全要求

- [ ] 密码使用 bcrypt 加密存储
- [ ] JWT token 有效期 7 天
- [ ] HTTPS 加密传输
- [ ] SQL 注入防护（SQLAlchemy ORM）
- [ ] XSS 防护（前端输入过滤）

---

## 6. 非功能性需求

### 6.1 可用性

- 简洁的界面，无需学习即可使用
- 移动端响应式设计
- 聊天记录实时同步

### 6.2 可扩展性

- 支持横向扩展（多个 FastAPI 实例）
- PostgreSQL 读写分离（未来）
- 缓存层（Redis，未来）

### 6.3 可维护性

- 代码模块化，职责清晰
- 完整的日志记录
- 错误追踪（Sentry，未来）

---

## 7. 成功指标

### 7.1 产品指标

| 指标 | 定义 | 目标（3 个月） |
|------|------|---------------|
| DAU | 日活跃用户 | 500+ |
| 留存率 | 7 日留存 | > 40% |
| 对话量 | 每日对话条数 | 5,000+ |
| NPS | 净推荐值 | > 50 |

### 7.2 质量指标

| 指标 | 定义 | 目标 |
|------|------|------|
| 响应成功率 | 成功返回回复的比例 | > 99% |
| 记忆准确率 | 召回相关记忆的准确性 | > 80% |
| 用户满意度 | 对回复质量的满意度 | > 4.0/5.0 |

### 7.3 技术指标

| 指标 | 定义 | 目标 |
|------|------|------|
| P95 响应时间 | 95% 的请求响应时间 | < 3s |
| 错误率 | 服务端错误比例 | < 0.1% |
| 可用性 | 服务正常运行时间 | > 99% |

---

## 8. 里程碑与时间表

### Phase 1: MVP（2 周）

**目标**: 可用的基础聊天应用

- [ ] 用户注册/登录系统
- [ ] 基础聊天功能
- [ ] NeuroMemory 集成
- [ ] 记忆召回和对话
- [ ] 本地测试通过

**交付物**:
- 可运行的 Web 应用
- 基础聊天功能演示
- 技术文档

### Phase 2: 情感增强（1 周）

**目标**: 更温暖、懂用户

- [ ] 情感标注识别
- [ ] 情感化的回复
- [ ] 前端美化
- [ ] Railway 部署

**交付物**:
- 上线的 Me2 应用
- 用户使用文档

### Phase 3: 主动关心（1 周）

**目标**: 主动陪伴

- [ ] 主动关心引擎
- [ ] 定时任务系统
- [ ] WebSocket 推送
- [ ] 数据分析看板

**交付物**:
- 完整的 v1.0 版本
- 早期用户测试

### Phase 4: 优化迭代（持续）

**目标**: 根据用户反馈优化

- [ ] 性能优化
- [ ] 功能迭代
- [ ] 用户增长
- [ ] 商业化探索

---

## 9. 风险与应对

### 9.1 技术风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| NeuroMemory 性能 | 高 | 中 | 本地测试 + 性能监控 |
| LLM API 限流 | 高 | 低 | 错误重试 + 限流提示 |
| 数据库瓶颈 | 中 | 低 | 索引优化 + 读写分离 |

### 9.2 产品风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| 用户不买账 | 高 | 中 | 早期用户测试 + 快速迭代 |
| 记忆不准确 | 高 | 中 | 提高召回阈值 + 人工审核 |
| 隐私担忧 | 中 | 低 | 隐私政策 + 数据加密 |

### 9.3 商业风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| 成本过高 | 高 | 中 | API 成本监控 + 定价策略 |
| 竞品压力 | 中 | 高 | 差异化定位 + 快速迭代 |
| 监管政策 | 低 | 低 | 合规审查 + 法律咨询 |

---

## 10. 开放问题

### 10.1 待决策

- [ ] 是否支持语音输入？
- [ ] 是否支持移动 App？
- [ ] 定价策略（免费 vs 订阅）？
- [ ] 是否开放 API？

### 10.2 待验证

- [ ] 用户真的需要"被记住"吗？
- [ ] 情感感知的准确度如何？
- [ ] 用户愿意为此付费吗？
- [ ] 长期留存率如何？

---

## 11. 附录

### 11.1 参考资料

- NeuroMemory 文档: `/Users/jacky/code/NeuroMemory/README.md`
- 架构设计: `ARCHITECTURE_V2.md`
- Character.AI 产品分析
- Replika 用户反馈

### 11.2 更新记录

| 版本 | 日期 | 更新内容 | 作者 |
|------|------|---------|------|
| v2.0 | 2026-02-12 | 基于新架构重写 PRD | Jacky |
| v1.0 | 2025-01-XX | 初版 PRD | Jacky |

---

**PRD 维护者**: Jacky
**最后更新**: 2026-02-12
**状态**: 🚧 进行中
